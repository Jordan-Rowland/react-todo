{"version":3,"sources":["TodoItem.jsx","hooks/useInput.js","hooks/useStorage.js","TodoList.jsx","App.jsx","index.js"],"names":["TodoItem","props","className","onClick","onEdit","text","onDelete","useInput","state","useState","input","setInput","handleChange","e","target","value","useStorage","key","items","localStorage","getItem","split","join","length","setItem","TodoList","editedTodoInput","setEditedTodoInput","textInputRef","useRef","todoInput","setTodoInput","handleTodoInputChange","todoStorage","setTodoStorage","todosLS","todos","setTodos","deleteTodo","todoText","filtered","prevTodos","filter","todo","clear","editTodo","todoTextTrimmed","trim","current","focus","type","onChange","onKeyDown","updatedTodoIndex","findIndex","todoInputTrimmed","updatedTodos","ref","map","App","ReactDOM","render","document","getElementById"],"mappings":"qMAsBeA,MApBf,SAAkBC,GAUhB,OACE,yBAAKC,UAAU,aACb,wBAAIC,QANR,WACEF,EAAMG,OAAOH,EAAMI,QAKWJ,EAAMI,MAClC,0BAAMH,UAAU,cAAcC,QAXlC,WACEF,EAAMK,SAASL,EAAMI,QAUnB,YCFSE,MAVf,WAA6B,IAAXC,EAAU,uDAAJ,GAAI,EACEC,mBAASD,GADX,mBAClBE,EADkB,KACXC,EADW,KAG1B,SAASC,EAAaC,GACpBF,EAASE,EAAEC,OAAOC,OAGpB,MAAO,CAAEL,EAAOC,EAAUC,ICUbI,MApBf,SAAoBC,GAiBlB,MAAO,CAfP,WACE,IAAIC,EAAQC,aAAaC,QAAQH,GAEjC,OADAC,EAAyB,kBAAVA,EAAqBA,EAAMG,MAAM,KAAO,IAIzD,SAAoBH,GACG,kBAAVA,IACTA,EAAQA,EAAMI,KAAK,MAEjBJ,EAAMK,QACRJ,aAAaK,QAAQP,EAAKC,MCoEjBO,MA3Ef,WAAqB,IAAD,EAC8BhB,mBAAS,IADvC,mBACViB,EADU,KACOC,EADP,KAEZC,EAAeC,iBAAO,MAFV,EAIyCtB,EAAS,IAJlD,mBAIVuB,EAJU,KAICC,EAJD,KAIeC,EAJf,OAKsBhB,EAAW,SALjC,mBAKViB,EALU,KAKGC,EALH,KAMZC,EAAUF,IANE,EAQUxB,mBAAS0B,GARnB,mBAQVC,EARU,KAQHC,EARG,KAiClB,SAASC,EAAWC,GAClB,IAAIC,EAAW,GACfH,GAAS,SAAAI,GAGP,OAFAD,EAAWC,EAAUC,QAAO,SAAAC,GAAI,OAAIA,IAASJ,KAC7CL,EAAeM,GACRA,KAEFA,EAASjB,QACZJ,aAAayB,QAKnB,SAASC,EAASN,GAChB,IAAMO,EAAkBP,EAASQ,OACjChB,EAAae,GACbnB,EAAmBmB,GACnBlB,EAAaoB,QAAQC,QAIvB,OACE,yBAAK/C,UAAU,kBACb,2BACEA,UAAU,aACVgD,KAAK,OACLC,SAAUnB,EACVoB,UAjDN,SAAoBvC,GAClB,IAAMwC,EAAmBjB,EAAMkB,WAAU,SAAAjD,GAAI,OAAIA,IAASqB,KACpD6B,EAAmBzB,EAAUiB,OACnC,GAAc,UAAVlC,EAAEI,KAAmBsC,EACvB,GAAK7B,EAME,CACL,IAAM8B,EAAY,YAAOpB,GACzBoB,EAAaH,GAAoBE,EACjClB,EAASmB,GACTtB,EAAesB,GACfzB,EAAa,IACbJ,EAAmB,SAXnBU,GAAS,SAAAI,GAEP,OADAP,EAAe,GAAD,mBAAKO,GAAL,CAAgBc,KACxB,GAAN,mBAAWd,GAAX,CAAsBc,OAExBxB,EAAa,KAyCbhB,MAAOe,EACP2B,IAAK7B,IAENQ,EAAMsB,KAAI,SAAAf,GAAI,OACb,kBAAC,EAAD,CACE1B,IAAK0B,EACLtC,KAAMsC,EACNrC,SAAUgC,EACVlC,OAAQyC,SC/DHc,MARf,WACE,OACE,oCACE,kBAAC,EAAD,QCDNC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.1b94c24b.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction TodoItem(props) {\n\n  function dispatchDelete() {\n    props.onDelete(props.text)\n  }\n\n  function dispatchEdit() {\n    props.onEdit(props.text)\n  }\n\n  return(\n    <div className=\"todo-item\">\n      <h2 onClick={dispatchEdit}>{props.text}</h2>\n      <span className=\"delete-icon\" onClick={dispatchDelete}>\n        âˆš\n      </span>\n    </div>\n  );\n}\n\nexport default TodoItem;","import { useState } from \"react\";\n\n\nfunction useInput(state=\"\") {\n  const [ input, setInput ] = useState(state);\n\n  function handleChange(e) {\n    setInput(e.target.value);\n  }\n\n  return [ input, setInput, handleChange ];\n}\n\nexport default useInput;\n","function useStorage(key) {\n\n  function storage() {\n    let items = localStorage.getItem(key);\n    items = typeof items === 'string' ? items.split(\"|\") : [];\n    return items;\n  }\n\n  function setStorage(items) {\n    if (typeof items === \"object\") {\n      items = items.join(\"|\");\n    }\n    if (items.length) {\n      localStorage.setItem(key, items);\n    }\n  }\n\n  return [ storage, setStorage ]\n}\n\nexport default useStorage;\n","import React, { useState, useRef } from \"react\";\nimport TodoItem from \"./TodoItem.jsx\";\nimport useInput from \"./hooks/useInput.js\";\nimport useStorage from \"./hooks/useStorage.js\";\n\n\nfunction TodoList() {\n  const [ editedTodoInput, setEditedTodoInput ] = useState(\"\");\n  const textInputRef = useRef(null);\n\n  const [ todoInput, setTodoInput, handleTodoInputChange ] = useInput(\"\");\n  const [ todoStorage, setTodoStorage ] = useStorage(\"todos\")\n  const todosLS = todoStorage();\n\n  const [ todos, setTodos ] = useState(todosLS);\n\n\n  function submitTodo(e) {\n    const updatedTodoIndex = todos.findIndex(text => text === editedTodoInput)\n    const todoInputTrimmed = todoInput.trim()\n    if (e.key === \"Enter\" && todoInputTrimmed) {\n      if (!editedTodoInput) {\n        setTodos(prevTodos => {\n          setTodoStorage([...prevTodos, todoInputTrimmed])\n          return [...prevTodos, todoInputTrimmed]\n        })\n        setTodoInput(\"\");\n      } else {\n        const updatedTodos = [...todos]\n        updatedTodos[updatedTodoIndex] = todoInputTrimmed\n        setTodos(updatedTodos)\n        setTodoStorage(updatedTodos)\n        setTodoInput(\"\")\n        setEditedTodoInput(\"\")\n      }\n    }\n  }\n\n\n  function deleteTodo(todoText) {\n    let filtered = [];\n    setTodos(prevTodos => {\n      filtered = prevTodos.filter(todo => todo !== todoText)\n      setTodoStorage(filtered)\n      return filtered;\n      })\n      if (!filtered.length) {\n        localStorage.clear();\n      }\n    }\n\n\n  function editTodo(todoText) {\n    const todoTextTrimmed = todoText.trim()\n    setTodoInput(todoTextTrimmed)\n    setEditedTodoInput(todoTextTrimmed)\n    textInputRef.current.focus()\n  }\n\n\n  return(\n    <div className=\"todo-container\">\n      <input\n        className=\"todo-input\"\n        type=\"text\"\n        onChange={handleTodoInputChange}\n        onKeyDown={submitTodo}\n        value={todoInput}\n        ref={textInputRef}\n      />\n      {todos.map(todo =>\n        <TodoItem\n          key={todo}\n          text={todo}\n          onDelete={deleteTodo}\n          onEdit={editTodo} />\n      )}\n    </div>\n  );\n}\n\nexport default TodoList;","import React from \"react\";\nimport TodoList from \"./TodoList.jsx\";\n\n\nfunction App() {\n  return (\n    <>\n      <TodoList />\n    </>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}